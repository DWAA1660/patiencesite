{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<div class="hero p-5 text-center bg-image" style="background-image: url('https://via.placeholder.com/1200x400'); height: 500px; background-size: cover;">
    <div class="text-white w-100">
        <h1 class="mb-3 display-3 fw-bold cursive-font">Welcome to Prairie Homestead</h1>
        <h4 class="mb-4">Quality Poultry & Hatching Eggs</h4>
        
        <!-- Fall Themed Buttons -->
        <div class="d-flex justify-content-center gap-3 mt-4 flex-wrap">
            <a href="{{ url_for('shop.adult_birds') }}" class="btn btn-fall-1 btn-egg px-4">Shop Birds</a>
            <a href="{{ url_for('shop.hatching_eggs') }}" class="btn btn-fall-2 btn-egg px-4">Hatching Eggs</a>
            <a href="{{ url_for('shop.chicks') }}" class="btn btn-fall-4 btn-egg px-4">Day Old Chicks</a>
            <a href="{{ url_for('main.about') }}" class="btn btn-fall-3 btn-egg px-4">Our Story</a>
        </div>
    </div>
</div>

<!-- Large Paragraph Banner -->
<div class="para-banner my-5">
    <div class="container">
        <h2 class="mb-3">Raising Standards, Naturally.</h2>
        <p class="lead">
            At Prairie Homestead, we believe in sustainable farming and ethical poultry raising. 
            Our birds are raised on open pastures, ensuring healthy flocks and superior quality eggs.
            Whether you are looking to start your own flock or add unique genetics, we are here to help you succeed.
        </p>
    </div>
</div>

<!-- 3D Icons Section -->
<div class="container my-5">
    <div class="row text-center">
        <div class="col-md-4 mb-3">
            <div class="icon-card p-4 shadow rounded h-100">
                <h3 class="text-primary">About</h3>
                <p>Learn our story</p>
                <a href="{{ url_for('main.about') }}" class="stretched-link"></a>
            </div>
        </div>
        <div class="col-md-4 mb-3">
            <div class="icon-card p-4 shadow rounded h-100">
                <h3 class="text-warning">Adult Birds</h3>
                <p>Ready for your flock</p>
                <a href="{{ url_for('shop.adult_birds') }}" class="stretched-link"></a>
            </div>
        </div>
        <div class="col-md-4 mb-3">
            <div class="icon-card p-4 shadow rounded h-100">
                <h3 class="text-success">Hatching Eggs</h3>
                <p>Start from scratch</p>
                <a href="{{ url_for('shop.hatching_eggs') }}" class="stretched-link"></a>
            </div>
        </div>
    </div>
</div>

<!-- Featured Inventory -->
<div class="container my-5">
    <h2 class="text-center mb-4">Featured Inventory</h2>
    <div class="row">
        {% for product in products %}
        <div class="col-md-4 mb-4">
            <div class="card h-100 shadow-sm">
                <img src="{{ url_for('static', filename='img/' + product.image_file) }}" class="card-img-top" alt="{{ product.name }}">
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">{{ product.name }}</h5>
                    <p class="card-text text-muted">{{ product.description[:60] }}...</p>
                    <div class="mt-auto">
                        <p class="card-text fw-bold fs-5">${{ product.price }}</p>
                        <a href="{{ url_for('shop.product_detail', product_id=product.id) }}" class="btn btn-outline-primary w-100">View Details</a>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<!-- Photo Gallery -->
<div class="container my-5">
    <h2 class="text-center mb-4">Farm Gallery</h2>
    <div class="row g-3">
        {% if gallery_images %}
            {% for image in gallery_images %}
            <div class="col-md-3 col-6">
                <img src="{{ url_for('static', filename='img/' + image.image_file) }}" class="gallery-img rounded shadow-sm" alt="{{ image.caption or 'Gallery Image' }}">
            </div>
            {% endfor %}
        {% else %}
            <div class="col-12 text-center text-muted">
                <p>No images in gallery yet.</p>
            </div>
        {% endif %}
    </div>
</div>

<!-- Lightbox Modal -->
<div class="modal fade" id="galleryModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content bg-transparent border-0">
            <div class="modal-body position-relative text-center">
                <button type="button" class="btn-close btn-close-white position-absolute top-0 end-0 m-3" data-bs-dismiss="modal" aria-label="Close"></button>
                <div class="d-flex align-items-center justify-content-between">
                    <button id="lightboxPrev" class="btn btn-dark rounded-circle me-2">&lt;</button>
                    <img id="lightboxImage" src="" class="modal-img rounded shadow" alt="Full Size">
                    <button id="lightboxNext" class="btn btn-dark rounded-circle ms-2">&gt;</button>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
